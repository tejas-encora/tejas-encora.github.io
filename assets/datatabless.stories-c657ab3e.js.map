{"version":3,"file":"datatabless.stories-c657ab3e.js","sources":["../../node_modules/vuetify/lib/components/VDataTable/VDataTableServer.mjs","../../src/labs/DataTable/IODataTableSS.vue"],"sourcesContent":["import { createVNode as _createVNode, mergeProps as _mergeProps, resolveDirective as _resolveDirective, Fragment as _Fragment } from \"vue\";\n// Components\nimport { makeDataTableProps } from \"./VDataTable.mjs\";\nimport { makeVDataTableFooterProps, VDataTableFooter } from \"./VDataTableFooter.mjs\";\nimport { VDataTableHeaders } from \"./VDataTableHeaders.mjs\";\nimport { VDataTableRows } from \"./VDataTableRows.mjs\";\nimport { VTable } from \"../VTable/index.mjs\"; // Composables\nimport { provideExpanded } from \"./composables/expand.mjs\";\nimport { createGroupBy, provideGroupBy, useGroupedItems } from \"./composables/group.mjs\";\nimport { createHeaders } from \"./composables/headers.mjs\";\nimport { useDataTableItems } from \"./composables/items.mjs\";\nimport { useOptions } from \"./composables/options.mjs\";\nimport { createPagination, makeDataTablePaginateProps, providePagination } from \"./composables/paginate.mjs\";\nimport { provideSelection } from \"./composables/select.mjs\";\nimport { createSort, provideSort } from \"./composables/sort.mjs\";\nimport { provideDefaults } from \"../../composables/defaults.mjs\"; // Utilities\nimport { computed, provide, toRef } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVDataTableServerProps = propsFactory({\n  itemsLength: {\n    type: [Number, String],\n    required: true\n  },\n  ...makeDataTablePaginateProps(),\n  ...makeDataTableProps(),\n  ...makeVDataTableFooterProps()\n}, 'VDataTableServer');\nexport const VDataTableServer = genericComponent()({\n  name: 'VDataTableServer',\n  props: makeVDataTableServerProps(),\n  emits: {\n    'update:modelValue': value => true,\n    'update:page': page => true,\n    'update:itemsPerPage': page => true,\n    'update:sortBy': sortBy => true,\n    'update:options': options => true,\n    'update:expanded': options => true,\n    'update:groupBy': value => true\n  },\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      groupBy\n    } = createGroupBy(props);\n    const {\n      sortBy,\n      multiSort,\n      mustSort\n    } = createSort(props);\n    const {\n      page,\n      itemsPerPage\n    } = createPagination(props);\n    const itemsLength = computed(() => parseInt(props.itemsLength, 10));\n    const {\n      columns,\n      headers\n    } = createHeaders(props, {\n      groupBy,\n      showSelect: toRef(props, 'showSelect'),\n      showExpand: toRef(props, 'showExpand')\n    });\n    const {\n      items\n    } = useDataTableItems(props, columns);\n    const {\n      toggleSort\n    } = provideSort({\n      sortBy,\n      multiSort,\n      mustSort,\n      page\n    });\n    const {\n      opened,\n      isGroupOpen,\n      toggleGroup,\n      extractRows\n    } = provideGroupBy({\n      groupBy,\n      sortBy\n    });\n    const {\n      pageCount,\n      setItemsPerPage\n    } = providePagination({\n      page,\n      itemsPerPage,\n      itemsLength\n    });\n    const {\n      flatItems\n    } = useGroupedItems(items, groupBy, opened);\n    const {\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect,\n      someSelected,\n      allSelected\n    } = provideSelection(props, {\n      allItems: items,\n      currentPage: items\n    });\n    const {\n      isExpanded,\n      toggleExpand\n    } = provideExpanded(props);\n    const itemsWithoutGroups = computed(() => extractRows(items.value));\n    useOptions({\n      page,\n      itemsPerPage,\n      sortBy,\n      groupBy,\n      search: toRef(props, 'search')\n    });\n    provide('v-data-table', {\n      toggleSort,\n      sortBy\n    });\n    provideDefaults({\n      VDataTableRows: {\n        hideNoData: toRef(props, 'hideNoData'),\n        noDataText: toRef(props, 'noDataText'),\n        loading: toRef(props, 'loading'),\n        loadingText: toRef(props, 'loadingText')\n      }\n    });\n    const slotProps = computed(() => ({\n      page: page.value,\n      itemsPerPage: itemsPerPage.value,\n      sortBy: sortBy.value,\n      pageCount: pageCount.value,\n      toggleSort,\n      setItemsPerPage,\n      someSelected: someSelected.value,\n      allSelected: allSelected.value,\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect,\n      isExpanded,\n      toggleExpand,\n      isGroupOpen,\n      toggleGroup,\n      items: itemsWithoutGroups.value.map(item => item.raw),\n      internalItems: itemsWithoutGroups.value,\n      groupedItems: flatItems.value,\n      columns: columns.value,\n      headers: headers.value\n    }));\n    useRender(() => {\n      const dataTableFooterProps = VDataTableFooter.filterProps(props);\n      const dataTableHeadersProps = VDataTableHeaders.filterProps(props);\n      const dataTableRowsProps = VDataTableRows.filterProps(props);\n      const tableProps = VTable.filterProps(props);\n      return _createVNode(VTable, _mergeProps({\n        \"class\": ['v-data-table', {\n          'v-data-table--loading': props.loading\n        }, props.class],\n        \"style\": props.style\n      }, tableProps), {\n        top: () => slots.top?.(slotProps.value),\n        default: () => slots.default ? slots.default(slotProps.value) : _createVNode(_Fragment, null, [slots.colgroup?.(slotProps.value), _createVNode(\"thead\", {\n          \"class\": \"v-data-table__thead\",\n          \"role\": \"rowgroup\"\n        }, [_createVNode(VDataTableHeaders, _mergeProps(dataTableHeadersProps, {\n          \"sticky\": props.fixedHeader\n        }), slots)]), slots.thead?.(slotProps.value), _createVNode(\"tbody\", {\n          \"class\": \"v-data-table__tbody\",\n          \"role\": \"rowgroup\"\n        }, [slots['body.prepend']?.(slotProps.value), slots.body ? slots.body(slotProps.value) : _createVNode(VDataTableRows, _mergeProps(attrs, dataTableRowsProps, {\n          \"items\": flatItems.value\n        }), slots), slots['body.append']?.(slotProps.value)]), slots.tbody?.(slotProps.value), slots.tfoot?.(slotProps.value)]),\n        bottom: () => slots.bottom ? slots.bottom(slotProps.value) : _createVNode(VDataTableFooter, dataTableFooterProps, {\n          prepend: slots['footer.prepend']\n        })\n      });\n    });\n  }\n});\n//# sourceMappingURL=VDataTableServer.mjs.map","<template>\n    <v-card border\n            max-width=\"80%\"\n            class=\"mx-auto\"\n            :hasSearch=\"isSearch\">\n        <IOTextField v-model=\"search\"\n                     label=\"Search\"\n                     class=\"full-width\"\n                     leading-icon\n                     icon=\"magnifying-glass\"\n                     clear\n                     v-if=\"isSearch\" />\n        <v-data-table-server :items=\"items\"\n                             :hasSearch=\"isSearch\"\n                             class=\"zebra\"\n                             ></v-data-table-server>\n    </v-card>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport IOTextField from '@/components/Inputs/IOTextField.vue'\n\nexport default {\n    name: \"IODataTable\",\n    components: {\n        IOTextField,\n    },\n    props: {\n        hasSearch: {\n            type: Boolean,\n            default: false,\n        },\n        items: {\n            type: Array,\n            default: () => [],\n        },\n    },\n    computed: {\n        isSearch() {\n            return this.hasSearch;\n        }\n    },\n    setup() {\n        const search = ref('');\n\n        return {\n            search,\n        };\n    }\n};\n</script>\n<style>\n.full-width {\n    width: 100%;\n}\n\n.vcard {\n    /* width: 80% !important; */\n    text-align: center !important;\n    border: 1px solid !important;\n}\n\n.zebra tbody tr:nth-child(even) {\n    background-color: var(--md-sys-color-surface-container-low);\n}\n\n.v-data-table-header__content {\n    font-weight: bold;\n}\n\n.v-data-table-header__content,\n.v-data-table__td {\n    font-family: \"Lato\", sans-serif !important;\n}\n\n.v-table .v-icon {\n    font-size: 14px;\n    height: 20px;\n    width: 20px;\n}\n</style>\n"],"names":["makeVDataTableServerProps","propsFactory","makeDataTablePaginateProps","makeDataTableProps","makeVDataTableFooterProps","VDataTableServer","genericComponent","value","page","sortBy","options","props","_ref","attrs","slots","groupBy","createGroupBy","multiSort","mustSort","createSort","itemsPerPage","createPagination","itemsLength","computed","columns","headers","createHeaders","toRef","items","useDataTableItems","toggleSort","provideSort","opened","isGroupOpen","toggleGroup","extractRows","provideGroupBy","pageCount","setItemsPerPage","providePagination","flatItems","useGroupedItems","isSelected","select","selectAll","toggleSelect","someSelected","allSelected","provideSelection","isExpanded","toggleExpand","provideExpanded","itemsWithoutGroups","useOptions","provide","provideDefaults","slotProps","item","useRender","dataTableFooterProps","VDataTableFooter","dataTableHeadersProps","VDataTableHeaders","dataTableRowsProps","VDataTableRows","tableProps","VTable","_createVNode","_mergeProps","_a","_Fragment","_b","_c","_d","_e","_f","_sfc_main","IOTextField","ref","_createBlock","_component_v_card","$options","_component_IOTextField","$setup","$event","_component_v_data_table_server","$props"],"mappings":"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","x_google_ignoreList":[0]}