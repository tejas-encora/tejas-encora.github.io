import{u as S,t as o,z as oe,g as s,F as le,x as v,y as ne,b as ue,d as O,w as de,o as B,f as ce}from"./vue.esm-bundler-3b182064.js";import{I as ie}from"./IOTextField-65292961.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import{w as pe,m as ge,x as be,d as he,e as Se,y as ve,f as fe,u as ye,p as Te,h as De,z as _e,j as Pe,k as xe,l as Ie,o as Ve,A as F,V as k,q as C,r as N,v as we}from"./VDataTable-bb68c6cd.js";import{p as Oe,g as Be,a as Fe,u as ke}from"./index-5860522e.js";const Ce=Oe({itemsLength:{type:[Number,String],required:!0},...pe(),...ge(),...be()},"VDataTableServer"),Ne=Be()({name:"VDataTableServer",props:Ce(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,d){let{attrs:m,slots:a}=d;const{groupBy:l}=he(e),{sortBy:r,multiSort:p,mustSort:g}=Se(e),{page:c,itemsPerPage:b}=ve(e),H=S(()=>parseInt(e.itemsLength,10)),{columns:y,headers:j}=fe(e,{groupBy:l,showSelect:o(e,"showSelect"),showExpand:o(e,"showExpand")}),{items:i}=ye(e,y),{toggleSort:T}=Te({sortBy:r,multiSort:p,mustSort:g,page:c}),{opened:A,isGroupOpen:U,toggleGroup:q,extractRows:M}=De({groupBy:l,sortBy:r}),{pageCount:W,setItemsPerPage:J}=_e({page:c,itemsPerPage:b,itemsLength:H}),{flatItems:D}=Pe(i,l,A),{isSelected:K,select:Q,selectAll:X,toggleSelect:Y,someSelected:Z,allSelected:$}=xe(e,{allItems:i,currentPage:i}),{isExpanded:ee,toggleExpand:ae}=Ie(e),_=S(()=>M(i.value));Ve({page:c,itemsPerPage:b,sortBy:r,groupBy:l,search:o(e,"search")}),oe("v-data-table",{toggleSort:T,sortBy:r}),Fe({VDataTableRows:{hideNoData:o(e,"hideNoData"),noDataText:o(e,"noDataText"),loading:o(e,"loading"),loadingText:o(e,"loadingText")}});const t=S(()=>({page:c.value,itemsPerPage:b.value,sortBy:r.value,pageCount:W.value,toggleSort:T,setItemsPerPage:J,someSelected:Z.value,allSelected:$.value,isSelected:K,select:Q,selectAll:X,toggleSelect:Y,isExpanded:ee,toggleExpand:ae,isGroupOpen:U,toggleGroup:q,items:_.value.map(h=>h.raw),internalItems:_.value,groupedItems:D.value,columns:y.value,headers:j.value}));ke(()=>{const h=F.filterProps(e),te=k.filterProps(e),re=C.filterProps(e),se=N.filterProps(e);return s(N,v({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},se),{top:()=>{var n;return(n=a.top)==null?void 0:n.call(a,t.value)},default:()=>{var n,P,x,I,V,w;return a.default?a.default(t.value):s(le,null,[(n=a.colgroup)==null?void 0:n.call(a,t.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(k,v(te,{sticky:e.fixedHeader}),a)]),(P=a.thead)==null?void 0:P.call(a,t.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(x=a["body.prepend"])==null?void 0:x.call(a,t.value),a.body?a.body(t.value):s(C,v(m,re,{items:D.value}),a),(I=a["body.append"])==null?void 0:I.call(a,t.value)]),(V=a.tbody)==null?void 0:V.call(a,t.value),(w=a.tfoot)==null?void 0:w.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):s(F,h,{prepend:a["footer.prepend"]})})})}});const L={name:"IODataTable",components:{IOTextField:ie},props:{hasSearch:{type:Boolean,default:!1},items:{type:Array,default:()=>[]}},computed:{isSearch(){return this.hasSearch}},setup(){return{search:ne("")}}};function Ee(e,d,m,a,l,r){const p=ue("IOTextField");return B(),O(we,{border:"","max-width":"80%",class:"mx-auto",hasSearch:r.isSearch},{default:de(()=>[r.isSearch?(B(),O(p,{key:0,modelValue:a.search,"onUpdate:modelValue":d[0]||(d[0]=g=>a.search=g),label:"Search",class:"full-width","leading-icon":"",icon:"magnifying-glass",clear:""},null,8,["modelValue"])):ce("",!0),s(Ne,{items:m.items,hasSearch:r.isSearch,class:"zebra"},null,8,["items","hasSearch"])]),_:1},8,["hasSearch"])}const f=me(L,[["render",Ee]]);L.__docgenInfo={displayName:"IODataTable",exportName:"default",description:"",tags:{},props:[{name:"hasSearch",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"items",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],sourceFiles:["/Users/tmonteverdi/Sites/localhost/IO-Component-Library/src/labs/DataTable/IODataTableSS.vue"]};const z="<IODataTableSS :hasSearch=args.hasSearch />",Ge={title:"UI/Labs/DataTables/Server Side",component:f,render:e=>({components:{IODataTableSS:f},setup(){return{args:e}},template:z}),args:{hasSearch:!1},argTypes:{hasSearch:{controls:{type:"boolean"},description:"Show search"}}},u={render:e=>({components:{IODataTableSS:f},setup(){return{args:e}},template:z})};var E,G,R;u.parameters={...u.parameters,docs:{...(E=u.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: args => ({
    components: {
      IODataTableSS
    },
    setup() {
      return {
        args
      };
    },
    template
  })
}`,...(R=(G=u.parameters)==null?void 0:G.docs)==null?void 0:R.source}}};const Re=["Default"],Ue=Object.freeze(Object.defineProperty({__proto__:null,Default:u,__namedExportsOrder:Re,default:Ge},Symbol.toStringTag,{value:"Module"}));export{Ue as D};
//# sourceMappingURL=datatabless.stories-c657ab3e.js.map
