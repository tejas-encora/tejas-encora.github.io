import{y as S,D as s,E as se,v as r,F as le,m as v,x as ne,l as ce,b as B,w as ue,o as F,q as de}from"./vue.esm-bundler-opMJLZoG.js";import{I as ie}from"./IoTextField-94B1gCof.js";import{_ as me}from"./_plugin-vue_export-helper-x3n3nnut.js";import{V as pe}from"./VCard-WUgzrq0_.js";import{m as ge,a as be,b as he,c as Se,d as ve,e as fe,f as ye,u as Te,p as De,g as Pe,h as xe,i as _e,j as Ie,k as Ve,l as we,n as k,o as O,q as C,r as E}from"./VDataTable-xQr5Oxm6.js";import{p as Be,g as Fe,a as ke,u as Oe}from"./index-cMEmSNWu.js";const Ce=Be({itemsLength:{type:[Number,String],required:!0},...ge(),...be(),...he()},"VDataTableServer"),Ee=Fe()({name:"VDataTableServer",props:Ce(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,u){let{attrs:m,slots:a}=u;const{groupBy:l}=Se(e),{sortBy:o,multiSort:p,mustSort:g}=ve(e),{page:d,itemsPerPage:b}=fe(e),j=S(()=>parseInt(e.itemsLength,10)),{columns:y,headers:q}=ye(e,{groupBy:l,showSelect:s(e,"showSelect"),showExpand:s(e,"showExpand")}),{items:i}=Te(e,y),{toggleSort:T}=De({sortBy:o,multiSort:p,mustSort:g,page:d}),{opened:U,isGroupOpen:z,toggleGroup:A,extractRows:M}=Pe({groupBy:l,sortBy:o}),{pageCount:W,setItemsPerPage:J}=xe({page:d,itemsPerPage:b,itemsLength:j}),{flatItems:D}=_e(i,l,U),{isSelected:K,select:Q,selectAll:X,toggleSelect:Y,someSelected:Z,allSelected:$}=Ie(e,{allItems:i,currentPage:i}),{isExpanded:ee,toggleExpand:ae}=Ve(e),P=S(()=>M(i.value));we({page:d,itemsPerPage:b,sortBy:o,groupBy:l,search:s(e,"search")}),se("v-data-table",{toggleSort:T,sortBy:o}),ke({VDataTableRows:{hideNoData:s(e,"hideNoData"),noDataText:s(e,"noDataText"),loading:s(e,"loading"),loadingText:s(e,"loadingText")}});const t=S(()=>({page:d.value,itemsPerPage:b.value,sortBy:o.value,pageCount:W.value,toggleSort:T,setItemsPerPage:J,someSelected:Z.value,allSelected:$.value,isSelected:K,select:Q,selectAll:X,toggleSelect:Y,isExpanded:ee,toggleExpand:ae,isGroupOpen:z,toggleGroup:A,items:P.value.map(h=>h.raw),internalItems:P.value,groupedItems:D.value,columns:y.value,headers:q.value}));Oe(()=>{const h=k.filterProps(e),te=O.filterProps(e),oe=C.filterProps(e),re=E.filterProps(e);return r(E,v({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},re),{top:()=>{var n;return(n=a.top)==null?void 0:n.call(a,t.value)},default:()=>{var n,x,_,I,V,w;return a.default?a.default(t.value):r(le,null,[(n=a.colgroup)==null?void 0:n.call(a,t.value),r("thead",{class:"v-data-table__thead",role:"rowgroup"},[r(O,v(te,{sticky:e.fixedHeader}),a)]),(x=a.thead)==null?void 0:x.call(a,t.value),r("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(_=a["body.prepend"])==null?void 0:_.call(a,t.value),a.body?a.body(t.value):r(C,v(m,oe,{items:D.value}),a),(I=a["body.append"])==null?void 0:I.call(a,t.value)]),(V=a.tbody)==null?void 0:V.call(a,t.value),(w=a.tfoot)==null?void 0:w.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):r(k,h,{prepend:a["footer.prepend"]})})})}}),L={name:"IoDataTable",components:{IOTextField:ie},props:{hasSearch:{type:Boolean,default:!1},items:{type:Array,default:()=>[]}},computed:{isSearch(){return this.hasSearch}},setup(){return{search:ne("")}}};function Ne(e,u,m,a,l,o){const p=ce("IOTextField");return F(),B(pe,{border:"","max-width":"80%",class:"mx-auto",hasSearch:o.isSearch},{default:ue(()=>[o.isSearch?(F(),B(p,{key:0,modelValue:a.search,"onUpdate:modelValue":u[0]||(u[0]=g=>a.search=g),label:"Search","leading-icon":"",icon:"magnifying-glass",clear:""},null,8,["modelValue"])):de("",!0),r(Ee,{items:m.items,hasSearch:o.isSearch,class:"zebra"},null,8,["items","hasSearch"])]),_:1},8,["hasSearch"])}const f=me(L,[["render",Ne]]);L.__docgenInfo={displayName:"IoDataTable",exportName:"default",description:"",tags:{},props:[{name:"hasSearch",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"items",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],sourceFiles:["/Users/tmonteverdi/Sites/localhost/IO-Component-Library/src/labs/DataTable/IoDataTableSS.vue"]};const H="<IoDataTableSS :hasSearch=args.hasSearch />",Ge={title:"UI/Labs/DataTables/Server Side",component:f,render:e=>({components:{IoDataTableSS:f},setup(){return{args:e}},template:H}),args:{hasSearch:!1},argTypes:{hasSearch:{controls:{type:"boolean"},description:"Show search"}}},c={render:e=>({components:{IoDataTableSS:f},setup(){return{args:e}},template:H})};var N,G,R;c.parameters={...c.parameters,docs:{...(N=c.parameters)==null?void 0:N.docs,source:{originalSource:`{
  render: args => ({
    components: {
      IoDataTableSS
    },
    setup() {
      return {
        args
      };
    },
    template
  })
}`,...(R=(G=c.parameters)==null?void 0:G.docs)==null?void 0:R.source}}};const Re=["Default"],Ae=Object.freeze(Object.defineProperty({__proto__:null,Default:c,__namedExportsOrder:Re,default:Ge},Symbol.toStringTag,{value:"Module"}));export{Ae as D};
