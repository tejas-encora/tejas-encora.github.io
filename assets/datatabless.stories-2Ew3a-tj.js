import{t as S,u as s,v as se,e as o,F as le,x as v,y as ne,b as ue,d as O,w as ce,o as B,j as de}from"./vue.esm-bundler-GkJSCLLJ.js";import{I as ie}from"./IOTextField-28A_i8_A.js";import{_ as me}from"./_plugin-vue_export-helper-x3n3nnut.js";import{m as pe,a as ge,b as be,c as he,d as Se,e as ve,f as fe,u as ye,p as Te,g as De,h as Pe,i as xe,j as _e,k as Ie,l as Ve,V as F,n as k,o as C,q as N,r as we}from"./VDataTable-oggIIGkD.js";import{p as Oe,g as Be,a as Fe,u as ke}from"./index-dQBNZkEC.js";const Ce=Oe({itemsLength:{type:[Number,String],required:!0},...pe(),...ge(),...be()},"VDataTableServer"),Ne=Be()({name:"VDataTableServer",props:Ce(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,c){let{attrs:m,slots:a}=c;const{groupBy:l}=he(e),{sortBy:r,multiSort:p,mustSort:g}=Se(e),{page:d,itemsPerPage:b}=ve(e),H=S(()=>parseInt(e.itemsLength,10)),{columns:y,headers:U}=fe(e,{groupBy:l,showSelect:s(e,"showSelect"),showExpand:s(e,"showExpand")}),{items:i}=ye(e,y),{toggleSort:T}=Te({sortBy:r,multiSort:p,mustSort:g,page:d}),{opened:q,isGroupOpen:z,toggleGroup:A,extractRows:M}=De({groupBy:l,sortBy:r}),{pageCount:W,setItemsPerPage:J}=Pe({page:d,itemsPerPage:b,itemsLength:H}),{flatItems:D}=xe(i,l,q),{isSelected:K,select:Q,selectAll:X,toggleSelect:Y,someSelected:Z,allSelected:$}=_e(e,{allItems:i,currentPage:i}),{isExpanded:ee,toggleExpand:ae}=Ie(e),P=S(()=>M(i.value));Ve({page:d,itemsPerPage:b,sortBy:r,groupBy:l,search:s(e,"search")}),se("v-data-table",{toggleSort:T,sortBy:r}),Fe({VDataTableRows:{hideNoData:s(e,"hideNoData"),noDataText:s(e,"noDataText"),loading:s(e,"loading"),loadingText:s(e,"loadingText")}});const t=S(()=>({page:d.value,itemsPerPage:b.value,sortBy:r.value,pageCount:W.value,toggleSort:T,setItemsPerPage:J,someSelected:Z.value,allSelected:$.value,isSelected:K,select:Q,selectAll:X,toggleSelect:Y,isExpanded:ee,toggleExpand:ae,isGroupOpen:z,toggleGroup:A,items:P.value.map(h=>h.raw),internalItems:P.value,groupedItems:D.value,columns:y.value,headers:U.value}));ke(()=>{const h=F.filterProps(e),te=k.filterProps(e),re=C.filterProps(e),oe=N.filterProps(e);return o(N,v({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},oe),{top:()=>{var n;return(n=a.top)==null?void 0:n.call(a,t.value)},default:()=>{var n,x,_,I,V,w;return a.default?a.default(t.value):o(le,null,[(n=a.colgroup)==null?void 0:n.call(a,t.value),o("thead",{class:"v-data-table__thead",role:"rowgroup"},[o(k,v(te,{sticky:e.fixedHeader}),a)]),(x=a.thead)==null?void 0:x.call(a,t.value),o("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(_=a["body.prepend"])==null?void 0:_.call(a,t.value),a.body?a.body(t.value):o(C,v(m,re,{items:D.value}),a),(I=a["body.append"])==null?void 0:I.call(a,t.value)]),(V=a.tbody)==null?void 0:V.call(a,t.value),(w=a.tfoot)==null?void 0:w.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):o(F,h,{prepend:a["footer.prepend"]})})})}}),L={name:"IODataTable",components:{IOTextField:ie},props:{hasSearch:{type:Boolean,default:!1},items:{type:Array,default:()=>[]}},computed:{isSearch(){return this.hasSearch}},setup(){return{search:ne("")}}};function Ee(e,c,m,a,l,r){const p=ue("IOTextField");return B(),O(we,{border:"","max-width":"80%",class:"mx-auto",hasSearch:r.isSearch},{default:ce(()=>[r.isSearch?(B(),O(p,{key:0,modelValue:a.search,"onUpdate:modelValue":c[0]||(c[0]=g=>a.search=g),label:"Search",class:"full-width","leading-icon":"",icon:"magnifying-glass",clear:""},null,8,["modelValue"])):de("",!0),o(Ne,{items:m.items,hasSearch:r.isSearch,class:"zebra"},null,8,["items","hasSearch"])]),_:1},8,["hasSearch"])}const f=me(L,[["render",Ee]]);L.__docgenInfo={displayName:"IODataTable",exportName:"default",description:"",tags:{},props:[{name:"hasSearch",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"items",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],sourceFiles:["/Users/tmonteverdi/Sites/localhost/IO-Component-Library/src/labs/DataTable/IODataTableSS.vue"]};const j="<IODataTableSS :hasSearch=args.hasSearch />",Ge={title:"UI/Labs/DataTables/Server Side",component:f,render:e=>({components:{IODataTableSS:f},setup(){return{args:e}},template:j}),args:{hasSearch:!1},argTypes:{hasSearch:{controls:{type:"boolean"},description:"Show search"}}},u={render:e=>({components:{IODataTableSS:f},setup(){return{args:e}},template:j})};var E,G,R;u.parameters={...u.parameters,docs:{...(E=u.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: args => ({
    components: {
      IODataTableSS
    },
    setup() {
      return {
        args
      };
    },
    template
  })
}`,...(R=(G=u.parameters)==null?void 0:G.docs)==null?void 0:R.source}}};const Re=["Default"],ze=Object.freeze(Object.defineProperty({__proto__:null,Default:u,__namedExportsOrder:Re,default:Ge},Symbol.toStringTag,{value:"Module"}));export{ze as D};
